<ng-container *ngIf="logTemplate$ |Â async as logTemplate">
    <p-panel *ngrxLet="log$ as log">
        <ng-template pTemplate="header">
            <div class="grid m-0 w-full">
                <div class="col-8 md:col-5 font-light text-500 p-0">
                    <span>{{ log.title }}</span>
                    <ng-container *ngIf="!!log.desc?.length">
                        <span>&nbsp;({{ log.desc }})</span>
                    </ng-container>
                </div>
                <div class="col-4 md:col-2 p-0 text-right md:text-center font-light">
                    <span class="el-font-monospace">{{ absTime$ | async | date: 'HH:mm:ss' }}</span>
                </div>
                <div class="hidden md:block md:col-5 font-light text-500 p-0 text-right">
                    <span>{{ logTemplate.title }}</span>
                    <ng-container *ngIf="!!logTemplate.desc?.length">
                        <span>&nbsp;({{ logTemplate.desc }})</span>
                    </ng-container>
                </div>
                <div *ngIf="(logTemplate | logEventTemplates | async).containStart" class="col-12 p-0 text-center pt-3">
                    <span class="font-light text-4xl el-font-monospace">{{ relTime$ | async | date: 'HH:mm:ss.SSS': 'UTC+0' }}</span>
                </div>
            </div>
        </ng-template>
        <div class="grid" *ngrxLet="records$ as records">
            <p-panel header="Record Event" class="col-12 md:col-5 text-center py-2">
                <ng-container *ngFor="let eventTemplate of logTemplate.eventTemplates">
                    <button pButton pRipple
                        class="{{ eventTemplate.color | colorClass }} p-button-rounded m-2 el-record-event-button"
                        [icon]="eventTemplate.icon.value !== PrimeIcons.CODE && eventTemplate.icon.value"
                        [label]="eventTemplate.name"
                        [disabled]="eventTemplate | eventButtonDisabled: records"
                        (click)="raiseEvent(eventTemplate, log.id)">
                    </button>
                </ng-container>
            </p-panel>
            <p-accordion class="col-12 md:hidden">
                <p-accordionTab header="Recorded Events" [selected]="false" styleClass="p-0">
                    <el-records [records]="records" [logTemplate]="logTemplate" [showDataColumn]="false" [showRevokeButton]="true" breakpoint="425px" styleClass="p-datatable-striped p-datatable-sm"></el-records>
                </p-accordionTab>
            </p-accordion>
            <p-panel header="Recorded Events" class="hidden col-7 md:block" styleClass="p-0">
                <el-records [records]="records" [logTemplate]="logTemplate" [showDataColumn]="false" [showRevokeButton]="true" breakpoint="425px" styleClass="p-datatable-striped p-datatable-sm"></el-records>
            </p-panel>
        </div>
    </p-panel>
</ng-container>
<el-text-record-dialog [(visible)]="displayTextRecordDialog" [textEventTemplate]="textEventTemplate" [timestamp]="timestamp"></el-text-record-dialog>