"use strict";(self.webpackChunkelogger=self.webpackChunkelogger||[]).push([[945],{1945:(A_,_e,g)=>{g.r(_e),g.d(_e,{LogsModule:()=>G_});var d=g(9808),Z=g(3618),a=g(5620),u=g(9783),te=g(9841),R=g(9300),L=g(4004),D=g(3900),m=g(3423),z=g(8838),Q=g(2656);const q=(0,a.PH)("[Log] Load Log",(0,a.Ky)()),ne=(0,a.PH)("[Log] Load Log Success",(0,a.Ky)()),H=(0,a.PH)("[Log] Load Log Failure",(0,a.Ky)()),k=(0,a.PH)("[Log] Create Log",(0,a.Ky)()),j=(0,a.PH)("[Log] Create Log Failure",(0,a.Ky)()),F=(0,a.PH)("[Log] Update Log",(0,a.Ky)()),$=(0,a.PH)("[Log] Update Log Failure",(0,a.Ky)()),V=(0,a.PH)("[Log] Delete Log",(0,a.Ky)()),X=(0,a.PH)("[Log] Delete Log Failure",(0,a.Ky)());var M=g(9463),Re=g(8803);const le={log:null,processing:!1,error:null},Te=(0,a.Lq)(le,(0,a.on)(q,_=>Object.assign(Object.assign({},_),{processing:!0})),(0,a.on)(ne,(_,n)=>Object.assign(Object.assign({},_),{log:n.log,processing:!1})),(0,a.on)(H,(_,n)=>Object.assign(Object.assign({},_),{error:n.error,processing:!1})),(0,a.on)(k,(_,n)=>Object.assign(Object.assign({},_),{processing:!0})),(0,a.on)(M.zS,(_,n)=>Object.assign(Object.assign({},_),{log:n.log,processing:!1})),(0,a.on)(j,(_,n)=>Object.assign(Object.assign({},_),{error:n.error,processing:!1})),(0,a.on)(F,(_,n)=>Object.assign(Object.assign({},_),{processing:!0})),(0,a.on)(M.S4,(_,n)=>Object.assign(Object.assign({},_),{log:n.log,processing:!1})),(0,a.on)($,(_,n)=>Object.assign(Object.assign({},_),{error:n.error,processing:!1})),(0,a.on)(V,(_,n)=>Object.assign(Object.assign({},_),{processing:!0})),(0,a.on)(M.RC,(_,n)=>Object.assign({},le)),(0,a.on)(X,(_,n)=>Object.assign(Object.assign({},_),{error:n.error,processing:!1})),(0,a.on)(m.iz,(_,n)=>Object.assign(Object.assign({},_),{log:Object.assign(Object.assign({},_.log),{recordsCount:_.log.recordsCount+1})})),(0,a.on)(m.S5,(_,n)=>Object.assign(Object.assign({},_),{log:Object.assign(Object.assign({},_.log),{recordsCount:_.log.recordsCount-1})})),(0,a.on)(m.Qu,(_,n)=>Object.assign(Object.assign({},_),{log:Object.assign(Object.assign({},_.log),{recordsCount:0})})),(0,a.on)(Re.hP,(_,n)=>Object.assign(Object.assign({},_),{log:null}))),se=(0,a.ZF)("log"),y=(0,a.P1)(se,_=>_.log);(0,a.P1)(se,_=>_.processing);var K=g(2779),ae=g(51),re=g(7609),e=g(5e3),P=g(9177),W=g(8061),b=g(1424),S=g(845),f=g(5787),I=g(8854),T=g(4187),ce=g(2796),G=g(2653),Se=g(8850),U=g(7158),pe=g(1410),B=g(1941);function fe(_,n){if(1&_){const o=e.EpF();e.TgZ(0,"div",9)(1,"button",10),e.NdJ("click",function(){return e.CHM(o),e.oxw(4).revokeRecord()}),e.qZA()()}if(2&_){const o=e.oxw(3).ngrxLet,t=e.oxw();e.xp6(1),e.Q6J("disabled",!(null!=t.records&&t.records.length)||o)}}function De(_,n){1&_&&e.YNc(0,fe,2,1,"ng-template",8)}function he(_,n){1&_&&(e.TgZ(0,"th",18),e.SDv(1,19),e.qZA())}function Ge(_,n){1&_&&(e.TgZ(0,"th",20),e.SDv(1,21),e.qZA())}const ge=function(_,n){return{"text-center":_,"text-right":n}};function Ae(_,n){if(1&_&&(e.TgZ(0,"tr"),e._UZ(1,"th"),e.TgZ(2,"th"),e.SDv(3,11),e.qZA(),e.YNc(4,he,2,0,"th",12),e.TgZ(5,"th",13),e.SDv(6,14),e.qZA(),e.TgZ(7,"th",15),e.SDv(8,16),e.qZA(),e.YNc(9,Ge,2,0,"th",17),e.qZA()),2&_){const o=e.oxw().ngrxLet,t=e.oxw(2);e.xp6(4),e.Q6J("ngIf",o.containData&&t.hasData(t.records)&&t.showDataColumn),e.xp6(3),e.Q6J("ngClass",e.WLB(3,ge,o.containStart,!o.containStart)),e.xp6(2),e.Q6J("ngIf",o.containStart)}}function ve(_,n){if(1&_&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&_){const o=e.oxw(2).$implicit;e.xp6(1),e.Oqu(o.data)}}function Ne(_,n){if(1&_&&e._UZ(0,"p-image",26),2&_){const o=e.oxw().ngIf;e.Q6J("src",o)("preview",!0)}}function xe(_,n){if(1&_&&(e._UZ(0,"audio",27),e.ALo(1,"bypassSecurityTrustUrl")),2&_){const o=e.oxw().ngIf;e.Q6J("src",e.lcZ(1,1,o),e.LSH)}}function Me(_,n){if(1&_&&(e.ynx(0),e.YNc(1,Ne,1,2,"p-image",24),e.YNc(2,xe,2,3,"audio",25),e.BQk()),2&_){const o=e.oxw(3).$implicit,t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",o.eventType===t.EventType.PHOTO),e.xp6(1),e.Q6J("ngIf",o.eventType===t.EventType.AUDIO)}}function Pe(_,n){if(1&_&&(e.ynx(0),e.YNc(1,Me,3,2,"ng-container",4),e.ALo(2,"async"),e.BQk()),2&_){const o=e.oxw(2).$implicit,t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,t.loadRecordData(o.key)))}}const be=function(_,n){return[_,n]};function Ie(_,n){if(1&_&&(e.TgZ(0,"td",13),e.YNc(1,ve,2,1,"span",4),e.YNc(2,Pe,3,3,"ng-container",4),e.qZA()),2&_){const o=e.oxw().$implicit,t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",o.eventType===t.EventType.TEXT),e.xp6(1),e.Q6J("ngIf",e.WLB(2,be,t.EventType.AUDIO,t.EventType.PHOTO).includes(o.eventType))}}function Ue(_,n){if(1&_&&(e.TgZ(0,"span",29),e._uU(1),e.qZA()),2&_){const o=e.oxw().ngIf;e.xp6(1),e.hij(" ",o.days,"d ")}}function $e(_,n){if(1&_&&(e.ynx(0),e.YNc(1,Ue,2,1,"span",28),e.TgZ(2,"span",29),e._uU(3),e.ALo(4,"date"),e.qZA(),e.BQk()),2&_){const o=n.ngIf;e.xp6(1),e.Q6J("ngIf",o.days),e.xp6(2),e.hij(" ",e.Dn7(4,2,o.time,"HH:mm:ss.SSS","UTC+0")," ")}}function ye(_,n){if(1&_&&(e.TgZ(0,"span",29),e._uU(1),e.qZA()),2&_){const o=e.oxw().ngIf;e.xp6(1),e.hij(" ",o.days,"d ")}}function we(_,n){if(1&_&&(e.ynx(0),e.TgZ(1,"span",29),e._uU(2),e.qZA(),e.YNc(3,ye,2,1,"span",28),e.TgZ(4,"span",29),e._uU(5),e.ALo(6,"date"),e.qZA(),e.BQk()),2&_){const o=n.ngIf;e.xp6(2),e.hij(" ",o.prefix," "),e.xp6(1),e.Q6J("ngIf",o.days),e.xp6(2),e.hij(" ",e.Dn7(6,3,o.time,"HH:mm:ss.SSS","UTC+0")," ")}}function Ze(_,n){if(1&_&&(e.TgZ(0,"td",20),e.YNc(1,we,7,7,"ng-container",4),e.ALo(2,"eventRelTime"),e.qZA()),2&_){const o=e.oxw().$implicit,t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",e.xi3(2,1,o,t.records))}}function Qe(_,n){if(1&_&&(e.TgZ(0,"tr"),e.ALo(1,"colorClass"),e.TgZ(2,"td",22),e._UZ(3,"i"),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.YNc(6,Ie,3,5,"td",23),e.TgZ(7,"td",13),e._uU(8),e.ALo(9,"date"),e.qZA(),e.TgZ(10,"td",15),e.YNc(11,$e,5,6,"ng-container",4),e.ALo(12,"eventTimeDiff"),e.qZA(),e.YNc(13,Ze,3,4,"td",17),e.qZA()),2&_){const o=n.$implicit,t=e.oxw().ngrxLet,i=e.oxw(2);e.Tol(e.lcZ(1,12,o.color)),e.xp6(3),e.MT6("",o.icon.value," ",o.icon.styleClass,""),e.xp6(2),e.Oqu(o.name),e.xp6(1),e.Q6J("ngIf",t.containData&&i.hasData(i.records)&&i.showDataColumn),e.xp6(2),e.hij(" ",e.xi3(9,14,o.date,"medium")," "),e.xp6(2),e.Q6J("ngClass",e.WLB(20,ge,t.containStart,!t.containStart)),e.xp6(1),e.Q6J("ngIf",e.xi3(12,17,o,i.records)),e.xp6(2),e.Q6J("ngIf",t.containStart)}}function Be(_,n){if(1&_&&(e.TgZ(0,"tr")(1,"td",13),e.SDv(2,30),e.qZA()()),2&_){const o=e.oxw().ngrxLet;e.xp6(1),e.uIk("colspan",4+o.additionalColumns)}}function Je(_,n){if(1&_&&(e.TgZ(0,"p-table",2,3),e.YNc(2,De,1,0,null,4),e.YNc(3,Ae,10,6,"ng-template",5),e.YNc(4,Qe,14,23,"ng-template",6),e.YNc(5,Be,3,1,"ng-template",7),e.qZA()),2&_){const o=e.oxw().ngrxLet,t=e.oxw();e.Q6J("responsiveLayout",t.responsiveLayout)("breakpoint",t.breakpoint)("styleClass",t.styleClass)("rowHover",!0)("loading",!t.showRevokeButton&&o)("value",t.records),e.xp6(2),e.Q6J("ngIf",t.showRevokeButton)}}function qe(_,n){if(1&_&&(e.ynx(0),e.YNc(1,Je,6,7,"p-table",1),e.ALo(2,"logEventTemplates"),e.BQk()),2&_){const o=e.oxw();e.xp6(1),e.Q6J("ngrxLet",e.lcZ(2,1,o.template))}}let de=(()=>{class _{constructor(o,t){this.store=o,this.recordService=t,this.EventType=I.t,this.responsiveLayout="stack",this.breakpoint="960px",this.showRevokeButton=!1,this.cols=[T.Mz,T.ih,T.d4],this.processingRevoke$=this.store.pipe((0,a.Ys)(z.WC)),this.mediaData={}}hasData(o){return!!(null==o?void 0:o.find(t=>{var i;return!!(null===(i=t.data)||void 0===i?void 0:i.length)}))}revokeRecord(){var o;(null===(o=this.records)||void 0===o?void 0:o.length)&&this.store.dispatch((0,m.V3)({logId:this.records[0].logId}))}loadRecordData(o){return this.mediaData[o]||(this.mediaData[o]=this.recordService.loadRecordData(o)),this.mediaData[o]}}return _.\u0275fac=function(o){return new(o||_)(e.Y36(a.yh),e.Y36(ce.B))},_.\u0275cmp=e.Xpm({type:_,selectors:[["el-records"]],inputs:{records:"records",template:"template",styleClass:"styleClass",responsiveLayout:"responsiveLayout",breakpoint:"breakpoint",showDataColumn:"showDataColumn",showRevokeButton:"showRevokeButton"},decls:1,vars:1,consts:function(){let n,o,t,i,l,c,s;return n="Letzte Aufzeichnung widerrufen",o="Ereignis",t=" Absolute Zeit ",i="Zeitunterschied",l="Daten",c="Relative Zeit",s=" Keine Aufzeichnungen vorhanden. ",[[4,"ngrxLet"],["dataKey","name",3,"responsiveLayout","breakpoint","styleClass","rowHover","loading","value",4,"ngrxLet"],["dataKey","name",3,"responsiveLayout","breakpoint","styleClass","rowHover","loading","value"],["dt",""],[4,"ngIf"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","caption"],[1,"p-2"],["pButton","","pRipple","","icon","pi pi-replay","iconPos","right","label",n,1,"p-button-outlined","p-button-rounded","p-button-danger","w-full",3,"disabled","click"],o,["class","text-center w-min lg:w-5 xl:w-3",4,"ngIf"],[1,"text-center"],t,[3,"ngClass"],i,["class","text-right",4,"ngIf"],[1,"text-center","w-min","lg:w-5","xl:w-3"],l,[1,"text-right"],c,[1,"text-center","w-3rem"],["class","text-center",4,"ngIf"],[3,"src","preview",4,"ngIf"],["class","w-full","controls","",3,"src",4,"ngIf"],[3,"src","preview"],["controls","",1,"w-full",3,"src"],["class","el-font-monospace",4,"ngIf"],[1,"el-font-monospace"],s]},template:function(o,t){1&o&&e.YNc(0,qe,3,3,"ng-container",0),2&o&&e.Q6J("ngrxLet",t.processingRevoke$)},directives:[P.eJ,G.iA,d.O5,u.jx,S.Hq,f.H,d.mk,Se.E],pipes:[U.fS,pe.z,d.Ov,B.T3,d.uU,B.NC,B.L2],styles:["[_nghost-%COMP%]     td p-image img:not(.p-image-preview){max-width:100%;border-radius:6px}"]}),_})();var p=g(3075),Ee=g(8505),Oe=g(5698),J=g(1157),w=g(895),A=g(1456),v=g(5315);function Xe(_,n){1&_&&(e.TgZ(0,"div",11)(1,"span",12),e.SDv(2,13),e.qZA()())}function Ye(_,n){1&_&&(e.TgZ(0,"div",11)(1,"span",12),e.SDv(2,14),e.qZA()())}function ze(_,n){if(1&_){const o=e.EpF();e.TgZ(0,"form",15),e.NdJ("ngSubmit",function(){e.CHM(o);const i=e.oxw().ngrxLet;return e.oxw().submit(i)}),e._UZ(1,"button",16),e.qZA()}if(2&_){const o=e.oxw(2);e.Q6J("formGroup",o.form),e.xp6(1),e.Q6J("disabled",o.form.invalid)}}function He(_,n){if(1&_){const o=e.EpF();e.TgZ(0,"p-dialog",1),e.NdJ("visibleChange",function(){return e.CHM(o),e.oxw().close()}),e.TgZ(1,"form",2)(2,"span",3),e._UZ(3,"input",4),e.TgZ(4,"label",5),e.SDv(5,6),e.qZA(),e.YNc(6,Xe,3,0,"div",7),e.qZA(),e.TgZ(7,"span",3),e._UZ(8,"input",8),e.TgZ(9,"label",5),e.SDv(10,9),e.qZA(),e.YNc(11,Ye,3,0,"div",7),e.qZA()(),e.YNc(12,ze,2,2,"ng-template",10),e.qZA()}if(2&_){const o=e.oxw();e.Q6J("resizable",!1)("maximizable",!0)("visible",o.visible)("modal",!0)("closeOnEscape",!0),e.xp6(1),e.Q6J("formGroup",o.form),e.xp6(2),e.ekj("ng-invalid",(null==o.form.errors?null:o.form.errors[o.abstractLogIsUniqueError])||!o.form.get("title").valid)("ng-valid",!(null!=o.form.errors&&o.form.errors[o.abstractLogIsUniqueError])&&o.form.get("title").valid),e.xp6(3),e.Q6J("ngIf",null==o.form.errors?null:o.form.errors[o.abstractLogIsUniqueError]),e.xp6(2),e.ekj("ng-invalid",(null==o.form.errors?null:o.form.errors[o.abstractLogIsUniqueError])||!o.form.get("desc").valid)("ng-valid",!(null!=o.form.errors&&o.form.errors[o.abstractLogIsUniqueError])&&o.form.get("desc").valid),e.xp6(3),e.Q6J("ngIf",null==o.form.errors?null:o.form.errors[o.abstractLogIsUniqueError])}}let ke=(()=>{class _ extends A.M{constructor(o,t){super(),this.store=o,this.fb=t,this.abstractLogIsUniqueError=w.zO,this.form=this.fb.group({title:[null,p.kI.required],desc:null},{asyncValidators:w.mX.abstractLogIsUnique(this.store.pipe((0,a.Ys)(J.Vc)),this.store.pipe((0,a.Ys)(y)))}),this.log$=this.store.pipe((0,a.Ys)(y),(0,R.h)(i=>!!i),(0,Ee.b)(i=>{this.form.patchValue({title:i.title,desc:i.desc})}))}close(){super.close(),this.log$.pipe((0,Oe.q)(1)).subscribe()}submit(o){this.store.dispatch(F({log:Object.assign(Object.assign({},o),this.form.value)})),this.close()}}return _.\u0275fac=function(o){return new(o||_)(e.Y36(a.yh),e.Y36(p.qu))},_.\u0275cmp=e.Xpm({type:_,selectors:[["el-update-log-dialog"]],features:[e.qOj],decls:1,vars:1,consts:function(){let n,o,t,i,l,c;return n="Vorlage aktualisieren",o="Titel",t="Beschreibung",i="Eine Vorlage mit diesem Namen existiert bereits. Bitte w\xE4hlen Sie einen anderen Namen.",l="Eine Vorlage mit dieser Beschreibung existiert bereits. Bitte w\xE4hlen Sie eine andere Beschreibung.",c="Aktualisieren",[["header",n,"styleClass","w-full sm:w-30rem",3,"resizable","maximizable","visible","modal","closeOnEscape","visibleChange",4,"ngrxLet"],["header",n,"styleClass","w-full sm:w-30rem",3,"resizable","maximizable","visible","modal","closeOnEscape","visibleChange"],[3,"formGroup"],[1,"p-float-label","mt-5","field"],["formControlName","title","pInputText","","type","text",1,"inputfield","w-full"],["for","float-input"],o,["class","w-full mt-1 px-2",4,"ngIf"],["formControlName","desc","pInputText","","type","text",1,"inputfield","w-full"],t,["pTemplate","footer"],[1,"w-full","mt-1","px-2"],[1,"p-error","text-xs"],i,l,[3,"formGroup","ngSubmit"],["pButton","","pRipple","","type","submit","icon","pi pi-check","label",c,1,"p-button-success","p-button-text",3,"disabled"]]},template:function(o,t){1&o&&e.YNc(0,He,13,16,"p-dialog",0),2&o&&e.Q6J("ngrxLet",t.log$)},directives:[P.eJ,v.V,p._Y,p.JL,p.sg,p.Fj,p.JJ,p.u,b.o,d.O5,u.jx,S.Hq,f.H],styles:[""]}),_})();function je(_,n){if(1&_&&(e.TgZ(0,"form",7),e._UZ(1,"br")(2,"hr"),e.TgZ(3,"p",3)(4,"span"),e.SDv(5,8),e.qZA(),e.TgZ(6,"span"),e._uU(7,"\xa0("),e.qZA(),e.TgZ(8,"span",9),e._uU(9),e.qZA(),e.TgZ(10,"span"),e._uU(11,")\xa0"),e.qZA(),e.TgZ(12,"span"),e.SDv(13,10),e.qZA()(),e.TgZ(14,"span",11),e._UZ(15,"input",12),e.TgZ(16,"label",13),e.SDv(17,14),e.qZA()()()),2&_){const o=e.oxw().ngIf,t=e.oxw();e.Q6J("formGroup",t.form),e.xp6(9),e.Oqu(o.title)}}function Fe(_,n){if(1&_){const o=e.EpF();e.TgZ(0,"form",15),e.NdJ("ngSubmit",function(){e.CHM(o);const i=e.oxw().ngIf;return e.oxw().delete(i)}),e._UZ(1,"button",16),e.qZA()}if(2&_){const o=e.oxw().ngIf,t=e.oxw();e.Q6J("formGroup",t.form),e.xp6(1),e.Q6J("disabled",t.form.invalid&&!!o.recordsCount)}}function Ve(_,n){if(1&_){const o=e.EpF();e.TgZ(0,"p-dialog",1),e.NdJ("visibleChange",function(){return e.CHM(o),e.oxw().close()}),e.ynx(1),e.SDv(2,2),e.BQk(),e.TgZ(3,"p",3),e.SDv(4,4),e.qZA(),e.YNc(5,je,18,2,"form",5),e.YNc(6,Fe,2,2,"ng-template",6),e.qZA()}if(2&_){const o=n.ngIf,t=e.oxw();e.Q6J("resizable",!1)("maximizable",!0)("visible",t.visible)("modal",!0)("closeOnEscape",!0),e.xp6(5),e.Q6J("ngIf",!!o.recordsCount)}}let Ke=(()=>{class _ extends A.M{constructor(o,t){super(),this.store=o,this.fb=t,this.log$=this.store.pipe((0,a.Ys)(y),(0,R.h)(i=>!!i)),this.form=this.fb.group({title:[null,null,w.mX.isEqualString(this.log$.pipe((0,L.U)(i=>i.title)))]})}close(){super.close(),this.form.reset()}delete(o){this.store.dispatch(V({log:o})),this.close()}}return _.\u0275fac=function(o){return new(o||_)(e.Y36(a.yh),e.Y36(p.qu))},_.\u0275cmp=e.Xpm({type:_,selectors:[["el-delete-log-dialog"]],features:[e.qOj],decls:2,vars:3,consts:function(){let n,o,t,i,l,c,s;return n="Protokoll l\xF6schen",o=" Sind Sie sicher, dass Sie dieses Protokoll l\xF6schen wollen? ",t=" Wenn Sie sich daf\xFCr entscheiden, werden auch alle Aufzeichnungen dieses Protokolls unwiederbringlich gel\xF6scht. ",i="Bitte geben Sie den Titel",l="des Protokolls ein, das Sie l\xF6schen m\xF6chten, um den L\xF6schvorgang zu best\xE4tigen.",c="L\xF6schbefehl",s="L\xF6schen",[["header",n,"styleClass","w-full sm:w-30rem",3,"resizable","maximizable","visible","modal","closeOnEscape","visibleChange",4,"ngIf"],["header",n,"styleClass","w-full sm:w-30rem",3,"resizable","maximizable","visible","modal","closeOnEscape","visibleChange"],o,[1,"mb-0","font-light"],t,[3,"formGroup",4,"ngIf"],["pTemplate","footer"],[3,"formGroup"],i,[1,"p-error"],l,[1,"p-float-label","mt-5","field"],["formControlName","title","pInputText","","type","text",1,"inputfield","w-full"],["for","float-input"],c,[3,"formGroup","ngSubmit"],["pButton","","pRipple","","type","submit","icon","pi pi-trash","label",s,1,"p-button-danger","p-button-text",3,"disabled"]]},template:function(o,t){1&o&&(e.YNc(0,Ve,7,6,"p-dialog",0),e.ALo(1,"async")),2&o&&e.Q6J("ngIf",e.lcZ(1,1,t.log$))},directives:[d.O5,v.V,p._Y,p.JL,p.sg,p.Fj,p.JJ,p.u,b.o,u.jx,S.Hq,f.H],pipes:[d.Ov],styles:[""]}),_})();function We(_,n){if(1&_){const o=e.EpF();e.TgZ(0,"form",13),e.NdJ("ngSubmit",function(){e.CHM(o);const i=e.oxw().ngIf;return e.oxw().delete(i.id)}),e._UZ(1,"button",14),e.qZA()}if(2&_){const o=e.oxw(2);e.Q6J("formGroup",o.form),e.xp6(1),e.Q6J("disabled",o.form.invalid)}}function eo(_,n){if(1&_){const o=e.EpF();e.TgZ(0,"p-dialog",1),e.NdJ("visibleChange",function(){return e.CHM(o),e.oxw().close()}),e.ynx(1),e.SDv(2,2),e.BQk(),e.TgZ(3,"form",3),e._UZ(4,"br")(5,"hr"),e.TgZ(6,"p",4)(7,"span"),e.SDv(8,5),e.qZA(),e.TgZ(9,"span"),e._uU(10,"\xa0("),e.qZA(),e.TgZ(11,"span",6),e._uU(12),e.qZA(),e.TgZ(13,"span"),e._uU(14,")\xa0"),e.qZA(),e.TgZ(15,"span"),e.SDv(16,7),e.qZA()(),e.TgZ(17,"span",8),e._UZ(18,"input",9),e.TgZ(19,"label",10),e.SDv(20,11),e.qZA()()(),e.YNc(21,We,2,2,"ng-template",12),e.qZA()}if(2&_){const o=n.ngIf,t=e.oxw();e.Q6J("resizable",!1)("maximizable",!0)("visible",t.visible)("modal",!0)("closeOnEscape",!0),e.xp6(3),e.Q6J("formGroup",t.form),e.xp6(9),e.Oqu(o.title)}}let oo=(()=>{class _ extends A.M{constructor(o,t){super(),this.store=o,this.fb=t,this.log$=this.store.pipe((0,a.Ys)(y),(0,R.h)(i=>!!i)),this.form=this.fb.group({title:[null,null,w.mX.isEqualString(this.log$.pipe((0,L.U)(i=>i.title)))]})}close(){super.close(),this.form.reset()}delete(o){this.store.dispatch((0,m.kl)({logId:o})),this.close()}}return _.\u0275fac=function(o){return new(o||_)(e.Y36(a.yh),e.Y36(p.qu))},_.\u0275cmp=e.Xpm({type:_,selectors:[["el-delete-records-dialog"]],features:[e.qOj],decls:2,vars:3,consts:function(){let n,o,t,i,l,c;return n="Aufzeichnungen l\xF6schen",o=" Sind Sie sicher, dass Sie alle Ereignisaufzeichnungen dieses Protokolls l\xF6schen wollen? ",t="Bitte geben Sie den Titel",i="des Protokolls ein, um die L\xF6schung aller aufgezeichneten Ereignisse zu best\xE4tigen.",l="L\xF6schbefehl",c="L\xF6schen",[["header",n,"styleClass","w-full sm:w-30rem",3,"resizable","maximizable","visible","modal","closeOnEscape","visibleChange",4,"ngIf"],["header",n,"styleClass","w-full sm:w-30rem",3,"resizable","maximizable","visible","modal","closeOnEscape","visibleChange"],o,[3,"formGroup"],[1,"mb-0","font-light"],t,[1,"p-error"],i,[1,"p-float-label","mt-5","field"],["formControlName","title","pInputText","","type","text",1,"inputfield","w-full"],["for","float-input"],l,["pTemplate","footer"],[3,"formGroup","ngSubmit"],["pButton","","pRipple","","type","submit","icon","pi pi-trash","label",c,1,"p-button-danger","p-button-text",3,"disabled"]]},template:function(o,t){1&o&&(e.YNc(0,eo,22,7,"p-dialog",0),e.ALo(1,"async")),2&o&&e.Q6J("ngIf",e.lcZ(1,1,t.log$))},directives:[d.O5,v.V,p._Y,p.JL,p.sg,p.Fj,p.JJ,p.u,b.o,u.jx,S.Hq,f.H],pipes:[d.Ov],styles:[""]}),_})();function _o(_,n){if(1&_&&(e.ynx(0),e.TgZ(1,"span",25),e._uU(2),e.qZA(),e.BQk()),2&_){const o=e.oxw(5).ngrxLet;e.xp6(2),e.hij("\xa0(",o.desc,")")}}function to(_,n){if(1&_&&(e.TgZ(0,"div",22)(1,"span",23),e._uU(2),e.qZA(),e.YNc(3,_o,3,1,"ng-container",24),e.qZA()),2&_){const o=e.oxw(4).ngrxLet;e.xp6(2),e.Oqu(o.title),e.xp6(1),e.Q6J("ngIf",!(null==o.desc||!o.desc.length))}}function no(_,n){if(1&_){const o=e.EpF();e.TgZ(0,"div",10),e.YNc(1,to,4,2,"div",11),e.TgZ(2,"div",12)(3,"div",13)(4,"span",14),e.SDv(5,15),e.qZA(),e._UZ(6,"input",16),e.qZA(),e.TgZ(7,"div",17)(8,"span",14),e.SDv(9,18),e.qZA(),e._UZ(10,"input",16),e.qZA()(),e.TgZ(11,"div",19)(12,"button",20),e.NdJ("click",function(){return e.CHM(o),e.oxw(4).displayUpdateLogDialog=!0}),e.qZA(),e.TgZ(13,"button",21),e.NdJ("click",function(){return e.CHM(o),e.oxw(4).displayDeleteLogDialog=!0}),e.qZA()()()}if(2&_){const o=e.oxw().ngrxLet,t=e.oxw(2).ngrxLet;e.xp6(1),e.Q6J("ngIf",t),e.xp6(5),e.Q6J("disabled",!0)("value",o.title),e.xp6(4),e.Q6J("disabled",!0)("value",o.desc||"no description set")}}const ue=function(){return["record"]};function io(_,n){if(1&_&&e._UZ(0,"button",31),2&_){const o=e.oxw(5);e.Q6J("icon",o.PrimeIcons.PLAY)("routerLink",e.DdM(2,ue))}}function lo(_,n){if(1&_&&e._UZ(0,"button",32),2&_){const o=e.oxw(5);e.Q6J("icon",o.PrimeIcons.FORWARD)("routerLink",e.DdM(2,ue))}}function so(_,n){if(1&_){const o=e.EpF();e.TgZ(0,"button",33),e.NdJ("click",function(){e.CHM(o);const i=e.oxw(2).ngrxLet,l=e.oxw().ngrxLet;return e.oxw(2).shareRecords(l,i)}),e.ALo(1,"async"),e.qZA()}if(2&_){const o=e.oxw(5);e.Q6J("disabled",e.lcZ(1,1,o.downloading$))}}function ao(_,n){if(1&_){const o=e.EpF();e.TgZ(0,"button",34),e.NdJ("click",function(){return e.CHM(o),e.oxw(5).displayDeleteRecordsDialog=!0}),e.qZA()}}function ro(_,n){if(1&_&&(e.TgZ(0,"div",26),e.YNc(1,io,1,3,"button",27),e.YNc(2,lo,1,3,"button",28),e.YNc(3,so,2,3,"button",29),e.YNc(4,ao,1,0,"button",30),e.qZA()),2&_){const o=e.oxw(2).ngrxLet;e.xp6(1),e.Q6J("ngIf",!(null!=o&&o.length)),e.xp6(1),e.Q6J("ngIf",!(null==o||!o.length)),e.xp6(1),e.Q6J("ngIf",!(null==o||!o.length)),e.xp6(1),e.Q6J("ngIf",!(null==o||!o.length))}}function co(_,n){1&_&&(e.TgZ(0,"span",35),e.SDv(1,36),e.qZA())}function po(_,n){if(1&_&&(e.TgZ(0,"p-panel",6),e.YNc(1,no,14,5,"ng-template",7),e.YNc(2,ro,5,4,"div",8),e.YNc(3,co,2,0,"span",9),e.qZA()),2&_){const o=e.oxw(2).ngrxLet;e.xp6(2),e.Q6J("ngIf",o),e.xp6(1),e.Q6J("ngIf",!o)}}function go(_,n){if(1&_&&(e.TgZ(0,"p-panel",37),e._UZ(1,"el-records",38),e.qZA()),2&_){const o=e.oxw().ngrxLet,t=e.oxw().ngrxLet;e.xp6(1),e.Q6J("records",o)("template",t)("showDataColumn",!0)}}function Eo(_,n){if(1&_&&(e.ynx(0),e.YNc(1,po,4,2,"p-panel",4),e.YNc(2,go,2,3,"p-panel",5),e.BQk()),2&_){const o=e.oxw().ngrxLet,t=e.oxw();e.xp6(1),e.Q6J("ngrxLet",t.log$),e.xp6(1),e.Q6J("ngIf",o)}}function Oo(_,n){if(1&_&&(e.TgZ(0,"div",2),e.YNc(1,Eo,3,2,"ng-container",3),e.qZA()),2&_){const o=e.oxw();e.xp6(1),e.Q6J("ngrxLet",o.records$)}}let uo=(()=>{class _{constructor(o){this.store=o,this.PrimeIcons=u.dv,this.displayUpdateLogDialog=!1,this.displayDeleteLogDialog=!1,this.displayDeleteRecordsDialog=!1,this.logData=(0,te.a)([this.store.pipe((0,a.Ys)(y),(0,R.h)(t=>!!t)),this.store.pipe((0,a.Ys)(Q.zU),(0,R.h)(t=>!!t)),this.store.pipe((0,a.Ys)(K.Hm),(0,R.h)(t=>!!t))]).pipe((0,R.h)(t=>{var i,l;return(null===(i=null==t?void 0:t[0])||void 0===i?void 0:i.id)===(null==t?void 0:t[2])&&!!(null===(l=null==t?void 0:t[1])||void 0===l?void 0:l.length)})),this.log$=this.logData.pipe((0,L.U)(t=>t[0])),this.template$=this.logData.pipe((0,L.U)(t=>t[1].find(i=>i.id===t[0].templateId))),this.records$=this.log$.pipe((0,D.w)(t=>this.store.select((0,z.Tq)(t.id)))),this.downloading$=this.store.pipe((0,a.Ys)(re.W))}ngOnInit(){this.store.dispatch((0,m.dY)({})),this.store.dispatch(q({}))}shareRecords(o,t){this.store.dispatch((0,ae.z7)({records:o,log:t}))}}return _.\u0275fac=function(o){return new(o||_)(e.Y36(a.yh))},_.\u0275cmp=e.Xpm({type:_,selectors:[["el-log"]],decls:4,vars:4,consts:function(){let n,o,t,i,l,c,s,r;return n="Ereignisaufzeichnungen",o="Titel",t="Beschreibung",i="Protokollierung beginnen",l="Protokollierung fortsetzen",c="Aufzeichnungen teilen",s="Aufzeichnungen l\xF6schen",r=" Dieses Protokoll basiert auf einer unbekannten Vorlage. Bitte importieren Sie zun\xE4chst die entsprechende Vorlage. ",[["class","grid",4,"ngrxLet"],[3,"visible","visibleChange"],[1,"grid"],[4,"ngrxLet"],["class","col-12",4,"ngrxLet"],["class","col-12","header",n,4,"ngIf"],[1,"col-12"],["pTemplate","header"],["class","flex flex-wrap justify-content-center",4,"ngIf"],["class","p-error flex text-center justify-content-center font-light",4,"ngIf"],[1,"grid","m-0","w-full"],["class","col-12 p-panel-title el-unset-order  p-0 mb-4",4,"ngIf"],[1,"grid","col-12","sm:col","p-0","pb-1","m-0","sm:mr-3"],[1,"p-inputgroup","col-12","pt-0","pl-0","pr-0"],[1,"p-inputgroup-addon"],o,["type","text","pInputText","",3,"disabled","value"],[1,"p-inputgroup","col-12","pb-0","pl-0","pr-0"],t,[1,"col-12","sm:col-fixed","flex","sm:flex-column","flex-row","justify-content-center","sm:justify-content-between","p-0","mt-3","sm:mt-0"],["pButton","","pRipple","","icon","fas fa-edit","iconPos","right",1,"p-button-outlined","p-button-rounded","p-button-warning","mr-2","sm:mr-0",3,"click"],["pButton","","pRipple","","icon","pi pi-trash","iconPos","right",1,"p-button-outlined","p-button-rounded","p-button-danger","sm:mb-1",3,"click"],[1,"col-12","p-panel-title","el-unset-order","p-0","mb-4"],[1,"text-overflow-anywhere"],[4,"ngIf"],[1,"text-overflow-anywhere","font-light","text-500"],[1,"flex","flex-wrap","justify-content-center"],["pButton","","pRipple","","class","p-button-outlined p-button-rounded p-button-success m-2 w-full md:w-13rem","iconPos","right","label",i,3,"icon","routerLink",4,"ngIf"],["pButton","","pRipple","","class","p-button-outlined p-button-rounded p-button-success m-2 w-full md:w-13rem","iconPos","right","label",l,3,"icon","routerLink",4,"ngIf"],["pButton","","pRipple","","icon","pi pi-share-alt","class","p-button-outlined p-button-rounded p-button-info m-2 w-full md:w-13rem","iconPos","right","label",c,3,"disabled","click",4,"ngIf"],["pButton","","pRipple","","icon","pi pi-trash","class","p-button-outlined p-button-rounded p-button-danger m-2 w-full md:w-13rem","iconPos","right","label",s,3,"click",4,"ngIf"],["pButton","","pRipple","","iconPos","right","label",i,1,"p-button-outlined","p-button-rounded","p-button-success","m-2","w-full","md:w-13rem",3,"icon","routerLink"],["pButton","","pRipple","","iconPos","right","label",l,1,"p-button-outlined","p-button-rounded","p-button-success","m-2","w-full","md:w-13rem",3,"icon","routerLink"],["pButton","","pRipple","","icon","pi pi-share-alt","iconPos","right","label",c,1,"p-button-outlined","p-button-rounded","p-button-info","m-2","w-full","md:w-13rem",3,"disabled","click"],["pButton","","pRipple","","icon","pi pi-trash","iconPos","right","label",s,1,"p-button-outlined","p-button-rounded","p-button-danger","m-2","w-full","md:w-13rem",3,"click"],[1,"p-error","flex","text-center","justify-content-center","font-light"],r,["header",n,1,"col-12"],["breakpoint","767px","styleClass","p-datatable-striped",3,"records","template","showDataColumn"]]},template:function(o,t){1&o&&(e.YNc(0,Oo,2,1,"div",0),e.TgZ(1,"el-update-log-dialog",1),e.NdJ("visibleChange",function(l){return t.displayUpdateLogDialog=l}),e.qZA(),e.TgZ(2,"el-delete-log-dialog",1),e.NdJ("visibleChange",function(l){return t.displayDeleteLogDialog=l}),e.qZA(),e.TgZ(3,"el-delete-records-dialog",1),e.NdJ("visibleChange",function(l){return t.displayDeleteRecordsDialog=l}),e.qZA()),2&o&&(e.Q6J("ngrxLet",t.template$),e.xp6(1),e.Q6J("visible",t.displayUpdateLogDialog),e.xp6(1),e.Q6J("visible",t.displayDeleteLogDialog),e.xp6(1),e.Q6J("visible",t.displayDeleteRecordsDialog))},directives:[P.eJ,W.s,u.jx,d.O5,b.o,S.Hq,f.H,Z.rH,de,ke,Ke,oo],pipes:[d.Ov],styles:[""]}),_})();var ee=g(4036);function Lo(_,n){if(1&_&&(e.TgZ(0,"span",16),e._uU(1),e.qZA()),2&_){const o=e.oxw().$implicit;e.xp6(1),e.hij("(",o.desc,")")}}function mo(_,n){if(1&_&&(e.TgZ(0,"div",13)(1,"span",14),e._uU(2),e.qZA(),e.YNc(3,Lo,2,1,"span",15),e.qZA()),2&_){const o=n.$implicit;e.xp6(2),e.Oqu(o.title),e.xp6(1),e.Q6J("ngIf",!(null==o.desc||!o.desc.length))}}function Co(_,n){if(1&_&&(e.TgZ(0,"span",16),e._uU(1),e.qZA()),2&_){const o=e.oxw().$implicit;e.xp6(1),e.hij("(",o.desc,")")}}function Ro(_,n){if(1&_&&(e.TgZ(0,"div",13)(1,"span",14),e._uU(2),e.qZA(),e.YNc(3,Co,2,1,"span",15),e.qZA()),2&_){const o=n.$implicit;e.xp6(2),e.Oqu(o.title),e.xp6(1),e.Q6J("ngIf",!(null==o.desc||!o.desc.length))}}function To(_,n){1&_&&(e.TgZ(0,"div",17)(1,"span",18),e.SDv(2,19),e.qZA()())}function So(_,n){1&_&&(e.TgZ(0,"div",17)(1,"span",18),e.SDv(2,20),e.qZA()())}function fo(_,n){if(1&_){const o=e.EpF();e.TgZ(0,"form",21),e.NdJ("ngSubmit",function(){return e.CHM(o),e.oxw().submit()}),e._UZ(1,"button",22),e.qZA()}if(2&_){const o=e.oxw();e.Q6J("formGroup",o.form),e.xp6(1),e.Q6J("disabled",o.form.invalid)}}let Do=(()=>{class _ extends A.M{constructor(o,t){super(),this.store=o,this.fb=t,this.abstractLogIsUniqueError=w.zO,this.templates$=this.store.pipe((0,a.Ys)(Q.zU)),this.form=this.fb.group({title:[null,p.kI.required],desc:null,templateId:[null,p.kI.required]},{asyncValidators:w.mX.abstractLogIsUnique(this.store.pipe((0,a.Ys)(J.Vc)))})}close(){super.close(),this.form.reset()}submit(){this.store.dispatch(k(this.form.value)),this.close()}}return _.\u0275fac=function(o){return new(o||_)(e.Y36(a.yh),e.Y36(p.qu))},_.\u0275cmp=e.Xpm({type:_,selectors:[["el-create-log-dialog"]],features:[e.qOj],decls:17,vars:19,consts:function(){let n,o,t,i,l,c,s;return n="Neues Protokoll hinzuf\xFCgen",o="Bitte w\xE4hlen Sie eine Vorlage ...",t="Titel",i="Beschreibung",l="Ein Protokoll mit diesem Namen existiert bereits. Bitte w\xE4hlen Sie einen anderen Namen.",c="Ein Protokoll mit dieser Beschreibung existiert bereits. Bitte w\xE4hlen Sie eine andere Beschreibung.",s="Hinzuf\xFCgen",[["header",n,"styleClass","w-full sm:w-30rem",3,"resizable","maximizable","visible","modal","closeOnEscape","visibleChange"],[3,"formGroup"],["optionLabel","title","optionValue","id","formControlName","templateId","styleClass","w-full white-space-normal","panelStyleClass","white-space-normal","placeholder",o,3,"options"],["pTemplate","selectedItem"],["pTemplate","item"],[1,"p-float-label","mt-5","field"],["formControlName","title","pInputText","","type","text",1,"inputfield","w-full"],["for","float-input"],t,["class","w-full mt-1 px-2",4,"ngIf"],["formControlName","desc","pInputText","","type","text",1,"inputfield","w-full"],i,["pTemplate","footer"],[1,"flex","flex-wrap","align-items-center"],[1,"text-overflow-anywhere"],["class","pl-2 text-overflow-anywhere font-light text-500",4,"ngIf"],[1,"pl-2","text-overflow-anywhere","font-light","text-500"],[1,"w-full","mt-1","px-2"],[1,"p-error","text-xs"],l,c,[3,"formGroup","ngSubmit"],["pButton","","pRipple","","type","submit","icon","pi pi-plus","label",s,1,"p-button-success","p-button-text",3,"disabled"]]},template:function(o,t){1&o&&(e.TgZ(0,"p-dialog",0),e.NdJ("visibleChange",function(){return t.close()}),e.TgZ(1,"form",1)(2,"p-dropdown",2),e.ALo(3,"async"),e.YNc(4,mo,4,2,"ng-template",3),e.YNc(5,Ro,4,2,"ng-template",4),e.qZA(),e.TgZ(6,"span",5),e._UZ(7,"input",6),e.TgZ(8,"label",7),e.SDv(9,8),e.qZA(),e.YNc(10,To,3,0,"div",9),e.qZA(),e.TgZ(11,"span",5),e._UZ(12,"input",10),e.TgZ(13,"label",7),e.SDv(14,11),e.qZA(),e.YNc(15,So,3,0,"div",9),e.qZA()(),e.YNc(16,fo,2,2,"ng-template",12),e.qZA()),2&o&&(e.Q6J("resizable",!1)("maximizable",!0)("visible",t.visible)("modal",!0)("closeOnEscape",!0),e.xp6(1),e.Q6J("formGroup",t.form),e.xp6(1),e.Q6J("options",e.lcZ(3,17,t.templates$)),e.xp6(5),e.ekj("ng-invalid",(null==t.form.errors?null:t.form.errors[t.abstractLogIsUniqueError])||!t.form.get("title").valid)("ng-valid",!(null!=t.form.errors&&t.form.errors[t.abstractLogIsUniqueError])&&t.form.get("title").valid),e.xp6(3),e.Q6J("ngIf",null==t.form.errors?null:t.form.errors[t.abstractLogIsUniqueError]),e.xp6(2),e.ekj("ng-invalid",(null==t.form.errors?null:t.form.errors[t.abstractLogIsUniqueError])||!t.form.get("desc").valid)("ng-valid",!(null!=t.form.errors&&t.form.errors[t.abstractLogIsUniqueError])&&t.form.get("desc").valid),e.xp6(3),e.Q6J("ngIf",null==t.form.errors?null:t.form.errors[t.abstractLogIsUniqueError]))},directives:[v.V,p._Y,p.JL,p.sg,ee.Lt,p.JJ,p.u,u.jx,d.O5,p.Fj,b.o,S.Hq,f.H],pipes:[d.Ov],styles:[""]}),_})();function ho(_,n){if(1&_&&(e.TgZ(0,"th"),e._uU(1),e.qZA()),2&_){const o=n.$implicit;e.Tol(o.class),e.xp6(1),e.Oqu(o.header)}}function Go(_,n){if(1&_&&(e.TgZ(0,"tr")(1,"th",8),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.YNc(3,ho,2,3,"th",9),e.qZA()),2&_){const o=n.$implicit;e.xp6(3),e.Q6J("ngForOf",o)}}function Ao(_,n){if(1&_&&(e.ynx(0),e.TgZ(1,"span",16),e._uU(2),e.qZA(),e.BQk()),2&_){const o=n.ngIf;e.xp6(2),e.hij("\xa0(",o,")\xa0")}}function vo(_,n){if(1&_&&(e.TgZ(0,"tr",10)(1,"td"),e._UZ(2,"p-tableCheckbox",11),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td",12)(8,"span",13),e._uU(9),e.ALo(10,"templateTitle"),e.qZA(),e.YNc(11,Ao,3,1,"ng-container",14),e.ALo(12,"templateDesc"),e.qZA(),e.TgZ(13,"td",15),e._uU(14),e.qZA()()),2&_){const o=n.$implicit,t=e.oxw().ngrxLet;e.Q6J("pSelectableRow",o),e.xp6(2),e.Q6J("pSelectableRow",o)("value",o),e.xp6(2),e.Oqu(o.title),e.xp6(2),e.Oqu(o.desc),e.xp6(3),e.Oqu(e.xi3(10,8,o.templateId,t)),e.xp6(2),e.Q6J("ngIf",e.xi3(12,11,o.templateId,t)),e.xp6(3),e.Oqu(o.recordsCount)}}function No(_,n){if(1&_){const o=e.EpF();e.TgZ(0,"form",17),e.NdJ("ngSubmit",function(){e.CHM(o);const i=e.oxw().ngrxLet;return e.oxw().submit(i)}),e._UZ(1,"button",18),e.qZA()}if(2&_){const o=e.oxw(2);e.Q6J("formGroup",o.form),e.xp6(1),e.Q6J("disabled",o.form.invalid)}}function xo(_,n){if(1&_){const o=e.EpF();e.ynx(0),e.TgZ(1,"p-table",4),e.NdJ("selectionChange",function(i){return e.CHM(o),e.oxw().form.patchValue({logs:i})}),e.ALo(2,"async"),e.YNc(3,Go,4,1,"ng-template",5),e.YNc(4,vo,15,14,"ng-template",6),e.qZA(),e.YNc(5,No,2,2,"ng-template",7),e.BQk()}if(2&_){const o=e.oxw();e.xp6(1),e.MGl("breakpoint","",o.breakpoint,"px"),e.Q6J("selection",o.form.value.logs)("rowHover",!0)("columns",o.cols)("value",e.lcZ(2,5,o.logs$))}}let Mo=(()=>{class _ extends A.M{constructor(o,t){super(),this.store=o,this.fb=t,this.breakpoint=500,this.logs$=this.store.pipe((0,a.Ys)(J.Vc),(0,L.U)(i=>[...i])),this.templates$=this.store.pipe((0,a.Ys)(Q.zU)),this.cols=[T.SJ,T.IB,T.KG,T.LR],this.form=this.fb.group({logs:[[],p.kI.required]})}submit(o){this.store.dispatch((0,ae.CM)({logs:this.form.value.logs,templates:o})),this.close()}close(){super.close(),this.form.patchValue({logs:[]})}}return _.\u0275fac=function(o){return new(o||_)(e.Y36(a.yh),e.Y36(p.qu))},_.\u0275cmp=e.Xpm({type:_,selectors:[["el-share-logs-dialog"]],features:[e.qOj],decls:4,vars:6,consts:function(){let n,o,t;return n="Protokolle teilen",o=" Bitte w\xE4hlen Sie alle Protokolle aus, die Sie in einer \xDCbersicht exportieren m\xF6chten. Sollten auch f\xFCr einzelne Protokolle Aufzeichnungen verf\xFCgbar sein, werden alle Download-Dateien in einer gemeinsamen ZIP-Datei bereitgestellt. ",t="Teilen",[["header",n,3,"resizable","maximizable","visible","modal","closeOnEscape","visibleChange"],[1,"flex","text-center","font-light"],o,[4,"ngrxLet"],["styleClass","p-datatable-striped mt-3","selectionMode","multiple",3,"breakpoint","selection","rowHover","columns","value","selectionChange"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],[1,"w-3rem"],[3,"class",4,"ngFor","ngForOf"],[3,"pSelectableRow"],[3,"pSelectableRow","value"],[1,"flex-wrap"],[1,"text-overflow-anywhere"],[4,"ngIf"],[1,"text-center"],[1,"text-overflow-anywhere","font-light","text-500"],[3,"formGroup","ngSubmit"],["pButton","","pRipple","","type","submit","icon","pi pi-share-alt","label",t,1,"p-button-info","p-button-text",3,"disabled"]]},template:function(o,t){1&o&&(e.TgZ(0,"p-dialog",0),e.NdJ("visibleChange",function(){return t.close()}),e.TgZ(1,"span",1),e.SDv(2,2),e.qZA(),e.YNc(3,xo,6,7,"ng-container",3),e.qZA()),2&o&&(e.Q6J("resizable",!0)("maximizable",!0)("visible",t.visible)("modal",!0)("closeOnEscape",!0),e.xp6(3),e.Q6J("ngrxLet",t.templates$))},directives:[v.V,P.eJ,G.iA,u.jx,G.Mo,d.sg,G.Ei,G.UA,d.O5,p._Y,p.JL,p.sg,S.Hq,f.H],pipes:[d.Ov,U.i9,U.BU],styles:[""]}),_})();function Po(_,n){if(1&_){const o=e.EpF();e.TgZ(0,"button",16),e.NdJ("click",function(){return e.CHM(o),e.oxw(3).displayShareLogsDialog=!0}),e.ALo(1,"async"),e.qZA()}if(2&_){const o=e.oxw(3);e.Q6J("disabled",e.lcZ(1,1,o.downloading$))}}function bo(_,n){if(1&_){const o=e.EpF();e.TgZ(0,"div",9)(1,"div",10),e._UZ(2,"i",11),e.TgZ(3,"input",12),e.NdJ("input",function(i){return e.CHM(o),e.oxw(),e.MAs(2).filterGlobal(i.target.value,"contains")}),e.qZA()(),e.TgZ(4,"div",13),e.YNc(5,Po,2,3,"button",14),e.TgZ(6,"button",15),e.NdJ("click",function(){return e.CHM(o),e.oxw(2).displayCreateLogDialog=!0}),e.qZA()()()}if(2&_){e.oxw();const o=e.MAs(2);e.xp6(5),e.Q6J("ngIf",!(null==o.value||!o.value.length))}}function Io(_,n){1&_&&e._UZ(0,"th",19)}function Uo(_,n){if(1&_&&(e.TgZ(0,"th"),e._uU(1),e.qZA()),2&_){const o=n.$implicit;e.Tol(o.class),e.xp6(1),e.Oqu(o.header)}}function $o(_,n){if(1&_&&(e.TgZ(0,"tr"),e.YNc(1,Io,1,0,"th",17),e.YNc(2,Uo,2,3,"th",18),e.qZA()),2&_){const o=n.$implicit;e.oxw();const t=e.MAs(2);e.xp6(1),e.Q6J("ngIf",(null==t.value?null:t.value.length)>1),e.xp6(1),e.Q6J("ngForOf",o)}}function yo(_,n){if(1&_&&(e.TgZ(0,"td",28),e._UZ(1,"span",29),e.qZA()),2&_){const o=e.oxw().rowIndex;e.xp6(1),e.Q6J("pReorderableRowHandle",o)}}function wo(_,n){if(1&_){const o=e.EpF();e.TgZ(0,"td",30)(1,"button",31),e.NdJ("click",function(){e.CHM(o);const i=e.oxw().rowIndex;e.oxw();const l=e.MAs(2);return e.oxw().move(i,-1,l.value)}),e.qZA(),e.TgZ(2,"button",32),e.NdJ("click",function(){e.CHM(o);const i=e.oxw().rowIndex;e.oxw();const l=e.MAs(2);return e.oxw().move(i,1,l.value)}),e.qZA()()}if(2&_){const o=e.oxw().rowIndex;e.oxw();const t=e.MAs(2);e.xp6(1),e.Q6J("disabled",0===o),e.xp6(1),e.Q6J("disabled",o===t.value.length-1)}}function Zo(_,n){if(1&_&&(e.ynx(0),e.TgZ(1,"span",33),e._uU(2),e.qZA(),e.BQk()),2&_){const o=n.ngIf;e.xp6(2),e.hij("\xa0(",o,")\xa0")}}const Y=function(_){return[_]},Qo=function(_){return{"p-error":_}};function Bo(_,n){if(1&_&&(e.TgZ(0,"tr",20),e.YNc(1,yo,2,1,"td",21),e.YNc(2,wo,3,2,"td",22),e.TgZ(3,"td",23),e._uU(4),e.qZA(),e.TgZ(5,"td",23),e._uU(6),e.qZA(),e.TgZ(7,"td",24)(8,"span",25),e.ALo(9,"templateExists"),e._uU(10),e.ALo(11,"templateTitle"),e.qZA(),e.YNc(12,Zo,3,1,"ng-container",26),e.ALo(13,"templateDesc"),e.qZA(),e.TgZ(14,"td",27),e._uU(15),e.qZA()()),2&_){const o=n.$implicit,t=n.rowIndex,i=e.oxw().ngrxLet,l=e.MAs(2);e.Q6J("pReorderableRow",t),e.xp6(1),e.Q6J("ngIf",(null==l.value?null:l.value.length)>1),e.xp6(1),e.Q6J("ngIf",(null==l.value?null:l.value.length)>1),e.xp6(1),e.Q6J("routerLink",e.VKq(22,Y,o.id)),e.xp6(1),e.Oqu(o.title),e.xp6(1),e.Q6J("routerLink",e.VKq(24,Y,o.id)),e.xp6(1),e.Oqu(o.desc),e.xp6(1),e.Q6J("routerLink",e.VKq(26,Y,o.id)),e.xp6(1),e.Q6J("ngClass",e.VKq(28,Qo,!e.xi3(9,13,o.templateId,i))),e.xp6(2),e.hij(" ",e.xi3(11,16,o.templateId,i)," "),e.xp6(2),e.Q6J("ngIf",e.xi3(13,19,o.templateId,i)),e.xp6(2),e.Q6J("routerLink",e.VKq(30,Y,o.id)),e.xp6(1),e.Oqu(o.recordsCount)}}function Jo(_,n){if(1&_&&(e.TgZ(0,"tr")(1,"td",34),e.SDv(2,35),e.qZA()()),2&_){const o=e.oxw(2);e.xp6(1),e.uIk("colspan",o.cols.length+1)}}function qo(_,n){if(1&_){const o=e.EpF();e.TgZ(0,"p-panel",2)(1,"p-table",3,4),e.NdJ("onRowReorder",function(){e.CHM(o);const i=e.MAs(2);return e.oxw().onRowReorder(i.value)}),e.ALo(3,"async"),e.ALo(4,"async"),e.YNc(5,bo,7,1,"ng-template",5),e.YNc(6,$o,3,2,"ng-template",6),e.YNc(7,Bo,16,32,"ng-template",7),e.YNc(8,Jo,3,1,"ng-template",8),e.qZA()()}if(2&_){const o=e.oxw();e.xp6(1),e.Q6J("rowHover",!0)("reorderableColumns",!0)("columns",o.cols)("value",e.lcZ(3,5,o.logs$))("loading",e.lcZ(4,7,o.logsLoading$))}}let Xo=(()=>{class _{constructor(o){this.store=o,this.searchTerm="",this.displayCreateLogDialog=!1,this.displayShareLogsDialog=!1,this.logs$=this.store.pipe((0,a.Ys)(J.Vc),(0,L.U)(t=>[...t])),this.logsLoading$=this.store.pipe((0,a.Ys)(J.aC)),this.templates$=this.store.pipe((0,a.Ys)(Q.zU)),this.downloading$=this.store.pipe((0,a.Ys)(re.W)),this.cols=[T.SJ,T.IB,T.KG,T.LR]}onRowReorder(o){this.store.dispatch((0,M.zE)({logs:o}))}move(o,t,i){if(o+t>=0&&o+t<(null==i?void 0:i.length)){const l=i[o],c=[...i];c.splice(o,1),c.splice(o+t,0,l),this.onRowReorder(c)}}}return _.\u0275fac=function(o){return new(o||_)(e.Y36(a.yh))},_.\u0275cmp=e.Xpm({type:_,selectors:[["el-logs"]],decls:3,vars:3,consts:function(){let n,o,t;return n="Protokolle",o="Suchbegriff",t=" Keine Protokolle gefunden. ",[["header",n,4,"ngrxLet"],[3,"visible","visibleChange"],["header",n],["styleClass","p-datatable-striped","dataKey","id","breakpoint","500px",3,"rowHover","reorderableColumns","columns","value","loading","onRowReorder"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"flex","flex-wrap","table-header","sm:justify-content-between","justify-content-around"],[1,"p-inputgroup","max-w-full","sm:w-auto","m-1"],[1,"p-inputgroup-addon","pi","pi-search"],["pInputText","","type","text","placeholder",o,3,"input"],[1,"flex","flex-wrap"],["pButton","","pRipple","","type","button","icon","pi pi-share-alt","class","p-button-outlined p-button-rounded p-button-info m-1",3,"disabled","click",4,"ngIf"],["pButton","","pRipple","","type","button","icon","pi pi-plus",1,"p-button-outlined","p-button-rounded","p-button-success","m-1",3,"click"],["pButton","","pRipple","","type","button","icon","pi pi-share-alt",1,"p-button-outlined","p-button-rounded","p-button-info","m-1",3,"disabled","click"],["class","w-3rem",4,"ngIf"],[3,"class",4,"ngFor","ngForOf"],[1,"w-3rem"],["draggable","true",1,"cursor-pointer",3,"pReorderableRow"],["class","cursor-move hide-on-smallscreen",4,"ngIf"],["class","flex flex-wrap justify-content-between hide-on-bigscreen",4,"ngIf"],[3,"routerLink"],[1,"flex-wrap",3,"routerLink"],[1,"text-overflow-anywhere",3,"ngClass"],[4,"ngIf"],[1,"text-center",3,"routerLink"],[1,"cursor-move","hide-on-smallscreen"],["draggable","true",1,"pi","pi-bars",3,"pReorderableRowHandle"],[1,"flex","flex-wrap","justify-content-between","hide-on-bigscreen"],["pButton","","pRipple","","type","button","icon","pi pi-chevron-up",1,"p-button-secondary","p-button-rounded","mr-2",3,"disabled","click"],["pButton","","pRipple","","type","button","icon","pi pi-chevron-down",1,"p-button-secondary","p-button-rounded","mr-2",3,"disabled","click"],[1,"text-overflow-anywhere","font-light","text-500"],[1,"text-center"],t]},template:function(o,t){1&o&&(e.YNc(0,qo,9,9,"p-panel",0),e.TgZ(1,"el-create-log-dialog",1),e.NdJ("visibleChange",function(l){return t.displayCreateLogDialog=l}),e.qZA(),e.TgZ(2,"el-share-logs-dialog",1),e.NdJ("visibleChange",function(l){return t.displayShareLogsDialog=l}),e.qZA()),2&o&&(e.Q6J("ngrxLet",t.templates$),e.xp6(1),e.Q6J("visible",t.displayCreateLogDialog),e.xp6(1),e.Q6J("visible",t.displayShareLogsDialog))},directives:[P.eJ,W.s,G.iA,u.jx,b.o,d.O5,S.Hq,f.H,d.sg,G.qO,G.Mv,Z.rH,d.mk,Do,Mo],pipes:[d.Ov,U.UV,U.i9,U.BU],styles:[""]}),_})();var Yo=g(4986),zo=g(2805);function Le(_=0,n=Yo.z){return _<0&&(_=0),(0,zo.H)(_,_,n)}var C=g(9646),Ho=g(6425),me=g(3787);function ko(_,n){if(1&_){const o=e.EpF();e.TgZ(0,"form",8),e.NdJ("ngSubmit",function(){return e.CHM(o),e.oxw().submit()}),e._UZ(1,"button",9),e.qZA()}if(2&_){const o=e.oxw();e.Q6J("formGroup",o.form),e.xp6(1),e.Q6J("disabled",o.form.invalid)}}let jo=(()=>{class _ extends A.M{constructor(o,t){super(),this.store=o,this.fb=t,this.form=this.fb.group({data:[null,p.kI.required]})}submit(){this.store.dispatch((0,m.ae)({eventTemplate:this.textEventTemplate,logId:this.logId,date:this.timestamp,data:this.form.value.data})),this.close()}close(){super.close(),this.form.reset()}}return _.\u0275fac=function(o){return new(o||_)(e.Y36(a.yh),e.Y36(p.qu))},_.\u0275cmp=e.Xpm({type:_,selectors:[["el-text-record-dialog"]],inputs:{textEventTemplate:"textEventTemplate",logId:"logId",timestamp:"timestamp"},features:[e.qOj],decls:9,vars:6,consts:function(){let n,o,t,i;return n="Textereignis",o=" Bitte geben Sie einen passenden Text f\xFCr das Ereignis ein. ",t="Text",i="Ereignis festhalten",[["header",n,"styleClass","w-full sm:w-30rem",3,"resizable","maximizable","visible","modal","closeOnEscape","visibleChange"],o,[3,"formGroup"],[1,"p-float-label","mt-5","field"],["formControlName","data","pInputText","","type","text",1,"inputfield","w-full"],["for","float-input"],t,["pTemplate","footer"],[3,"formGroup","ngSubmit"],["pButton","","pRipple","","type","submit","icon","pi pi-plus","label",i,1,"p-button-success","p-button-text",3,"disabled"]]},template:function(o,t){1&o&&(e.TgZ(0,"p-dialog",0),e.NdJ("visibleChange",function(){return t.close()}),e.ynx(1),e.SDv(2,1),e.BQk(),e.TgZ(3,"form",2)(4,"span",3),e._UZ(5,"input",4),e.TgZ(6,"label",5),e.SDv(7,6),e.qZA()()(),e.YNc(8,ko,2,2,"ng-template",7),e.qZA()),2&o&&(e.Q6J("resizable",!1)("maximizable",!0)("visible",t.visible)("modal",!0)("closeOnEscape",!0),e.xp6(3),e.Q6J("formGroup",t.form))},directives:[v.V,p._Y,p.JL,p.sg,p.Fj,p.JJ,p.u,b.o,u.jx,S.Hq,f.H],styles:[""]}),_})();var oe=g(5861),N=g(427),Fo=g(6128),Ce=g(6198);const Vo=["video"];function Ko(_,n){if(1&_){const o=e.EpF();e.ynx(0),e.TgZ(1,"p-dropdown",7),e.NdJ("onChange",function(i){return e.CHM(o),e.oxw().deviceChange(i)}),e.qZA(),e.TgZ(2,"div",8)(3,"div",9,10),e._UZ(5,"video",11,12),e.qZA(),e._UZ(7,"p-progressSpinner",13),e.qZA(),e.BQk()}if(2&_){const o=e.oxw();e.xp6(1),e.Q6J("options",o.availableDevices)}}function Wo(_,n){1&_&&(e.TgZ(0,"span",14),e.SDv(1,15),e.qZA())}function e_(_,n){if(1&_){const o=e.EpF();e.TgZ(0,"form",17),e.NdJ("ngSubmit",function(){const l=e.CHM(o).ngrxLet;return e.oxw(2).submit(l)}),e._UZ(1,"button",18),e.qZA()}if(2&_){const o=e.oxw(2);e.Q6J("formGroup",o.form),e.xp6(1),e.Q6J("disabled",o.blockUI)("icon",o.blockUI?"pi pi-lock":"pi pi-camera")}}function o_(_,n){if(1&_&&e.YNc(0,e_,2,3,"form",16),2&_){const o=e.oxw();e.Q6J("ngrxLet",o.quality$)}}let __=(()=>{class _ extends A.M{constructor(o,t){super(),this.store=o,this.fb=t,this.quality$=this.store.pipe((0,a.Ys)(Fo.sX)),this.form=this.fb.group({deviceCurrent:null}),this.availableDevices=[],this.hasDevices=!1,this.blockUI=!1}ngOnInit(){this.selectedDevice=localStorage.getItem("eventCamera")||localStorage.getItem("qrCamera")||void 0}ngOnChanges(o){var t,i,l;const c=!!(null===(t=null==o?void 0:o.visible)||void 0===t?void 0:t.currentValue),s=!!(null===(i=null==o?void 0:o.visible)||void 0===i?void 0:i.previousValue);c&&!s?this.startCamera():!c&&s&&(null===(l=this.video)||void 0===l?void 0:l.nativeElement.srcObject)&&this.stopCamera()}startCamera(){var o=this;return(0,oe.Z)(function*(){var t,i,l,c;try{if(!o.hasDevices){let s=yield navigator.mediaDevices.getUserMedia({video:!0});o.availableDevices=null===(t=yield navigator.mediaDevices.enumerateDevices())||void 0===t?void 0:t.filter(r=>"videoinput"===r.kind).map(r=>({deviceId:r.deviceId,groupId:r.groupId,kind:r.kind,label:r.label})),o.hasDevices=!!(null===(i=o.availableDevices)||void 0===i?void 0:i.length),s.getVideoTracks().forEach(r=>{try{r.stop()}catch(O){}}),s=null}if(o.hasDevices)try{o.stopCamera(),o.video.nativeElement.srcObject=yield navigator.mediaDevices.getUserMedia({video:{deviceId:o.selectedDevice,width:{min:640,ideal:9e3},height:{min:480,ideal:6e3}}}),o.selectedDevice=o.video.nativeElement.srcObject.getVideoTracks().find(s=>"video"===s.kind).getSettings().deviceId,(null===(l=o.form.value.deviceCurrent)||void 0===l?void 0:l.deviceId)!==o.selectedDevice&&o.form.patchValue({deviceCurrent:null===(c=o.availableDevices)||void 0===c?void 0:c.find(s=>s.deviceId===o.selectedDevice)})}catch(s){o.store.dispatch((0,N._N)({summary:"Kamerafehler",detail:"Kein Zugriff auf die Kamera m\xF6glich."}))}}catch(s){o.blockUI=!0,o.store.dispatch((0,N._N)(T.aW))}})()}deviceChange(o){var t;this.selectedDevice=(null===(t=null==o?void 0:o.value)||void 0===t?void 0:t.deviceId)||this.selectedDevice,localStorage.setItem("eventCamera",this.selectedDevice),this.startCamera()}submit(o){const t=this.video.nativeElement.srcObject.getVideoTracks().find(l=>"video"===l.kind).getSettings(),i=document.createElement("canvas");i.width=t.width,i.height=t.height,i.getContext("2d").drawImage(this.video.nativeElement,0,0,t.width,t.height),this.store.dispatch((0,m.ae)({eventTemplate:this.photoEventTemplate,logId:this.logId,date:new Date,data:i.toDataURL("image/jpeg",o/10)})),this.close()}stopCamera(){var o,t;(null===(o=this.video)||void 0===o?void 0:o.nativeElement)&&(null===(t=this.video.nativeElement.srcObject)||void 0===t||t.getVideoTracks().forEach(i=>{try{i.stop()}catch(l){}}),this.video.nativeElement.srcObject=null)}close(){this.stopCamera(),super.close()}}return _.\u0275fac=function(o){return new(o||_)(e.Y36(a.yh),e.Y36(p.qu))},_.\u0275cmp=e.Xpm({type:_,selectors:[["el-photo-record-dialog"]],viewQuery:function(o,t){if(1&o&&e.Gf(Vo,5),2&o){let i;e.iGM(i=e.CRH())&&(t.video=i.first)}},inputs:{photoEventTemplate:"photoEventTemplate",logId:"logId"},features:[e.qOj,e.TTD],decls:7,vars:8,consts:function(){let n,o,t;return n="Fotoereignis",o="Kameras werden geladen ...",t=" Auf die Kamera(s) konnte nicht zugegriffen werden. ",[["header",n,3,"resizable","maximizable","visible","modal","closeOnEscape","onShow","visibleChange"],["cameraDialog",""],[3,"formGroup"],[1,"grid"],[4,"ngIf"],["class","col-12 text-center p-error",4,"ngIf"],["pTemplate","footer"],["formControlName","deviceCurrent","placeholder",o,1,"col-12",3,"options","onChange"],[1,"col-12","pb-0","relative"],["id","camera",1,"p-2","align-content-center","text-center"],["camera",""],["autoplay","","muted","","webkit-playsinline","","playsinline",""],["video",""],[1,"absolute","bottom-0","left-0","right-0","top-0","align-content-center"],[1,"col-12","text-center","p-error"],t,[3,"formGroup","ngSubmit",4,"ngrxLet"],[3,"formGroup","ngSubmit"],["pButton","","pRipple","","type","submit",1,"p-button-rounded","p-button-danger","m-1","w-5rem","h-5rem","text-4xl",3,"disabled","icon"]]},template:function(o,t){if(1&o){const i=e.EpF();e.TgZ(0,"p-dialog",0,1),e.NdJ("onShow",function(){e.CHM(i);const c=e.MAs(1);return t.showDialogMaximized(c,!0)})("visibleChange",function(){return t.close()}),e.TgZ(2,"form",2)(3,"div",3),e.YNc(4,Ko,8,1,"ng-container",4),e.YNc(5,Wo,2,0,"span",5),e.qZA()(),e.YNc(6,o_,1,1,"ng-template",6),e.qZA()}2&o&&(e.Q6J("resizable",!1)("maximizable",!0)("visible",t.visible)("modal",!0)("closeOnEscape",!0),e.xp6(2),e.Q6J("formGroup",t.form),e.xp6(2),e.Q6J("ngIf",!t.blockUI),e.xp6(1),e.Q6J("ngIf",t.blockUI))},directives:[v.V,p._Y,p.JL,p.sg,d.O5,ee.Lt,p.JJ,p.u,Ce.G,u.jx,P.eJ,S.Hq,f.H],styles:["[_nghost-%COMP%]     .p-dialog:not(.p-dialog-maximized) .p-dialog-content{max-width:100vh}[_nghost-%COMP%]     .p-dialog.p-dialog-maximized #camera{max-height:calc(100vh - 18.25rem)}[_nghost-%COMP%]     .p-dialog.p-dialog-maximized #camera video{max-height:calc(100vh - 19.25rem)}[_nghost-%COMP%]     .p-dropdown{width:100%}[_nghost-%COMP%]     p-progressspinner, [_nghost-%COMP%]     #camera{display:grid}[_nghost-%COMP%]     #camera{background-color:var(--surface-c);max-height:calc(100vh - 25.5rem);border-radius:6px;max-width:100%}[_nghost-%COMP%]     #camera video{border-radius:6px;z-index:2;width:100%;max-height:calc(100vh - 26.5rem)}[_nghost-%COMP%]     .p-dialog .p-dialog-footer form{text-align:center}[_nghost-%COMP%]     .p-dialog .p-dialog-footer button{width:3rem;height:3rem}[_nghost-%COMP%]     .p-dialog .p-dialog-footer button .p-button-icon.pi{font-size:unset}"]}),_})();const t_=["oscilloscope"],n_=["oscilloscopeContainer"];function i_(_,n){1&_&&e._UZ(0,"p-progressSpinner")}function l_(_,n){1&_&&(e.TgZ(0,"div",11,12),e._UZ(2,"canvas",13,14),e.qZA())}function s_(_,n){if(1&_){const o=e.EpF();e.ynx(0),e.TgZ(1,"p-dropdown",6),e.NdJ("onChange",function(i){return e.CHM(o),e.oxw().deviceChange(i)}),e.qZA(),e.TgZ(2,"div",7),e.YNc(3,i_,1,0,"p-progressSpinner",3),e.YNc(4,l_,4,0,"div",8),e.qZA(),e.TgZ(5,"span",9),e.SDv(6,10),e.qZA(),e.BQk()}if(2&_){const o=e.oxw();e.xp6(1),e.Q6J("options",o.availableDevices),e.xp6(2),e.Q6J("ngIf",!o.hasDevices),e.xp6(1),e.Q6J("ngIf",o.hasDevices)}}function a_(_,n){1&_&&(e.TgZ(0,"span",15),e.SDv(1,16),e.qZA())}function r_(_,n){if(1&_){const o=e.EpF();e.TgZ(0,"button",17),e.NdJ("pointerdown",function(){return e.CHM(o),e.oxw().mediaRecorder.start()})("pointerup",function(){return e.CHM(o),e.oxw().mediaRecorder.stop()}),e.qZA()}if(2&_){const o=e.oxw();e.Q6J("disabled",o.blockUI)("icon",o.blockUI?"pi pi-lock":"fas fa-microphone")}}let c_=(()=>{class _ extends A.M{constructor(o,t){super(),this.store=o,this.fb=t,this.form=this.fb.group({deviceCurrent:null}),this.availableDevices=[],this.hasDevices=!1,this.blockUI=!1,this.chunks=[]}ngOnInit(){this.selectedDevice=localStorage.getItem("eventMic")||void 0}ngOnChanges(o){var t,i;const l=!!(null===(t=null==o?void 0:o.visible)||void 0===t?void 0:t.currentValue),c=!!(null===(i=null==o?void 0:o.visible)||void 0===i?void 0:i.previousValue);l&&!c?this.startMic():!l&&c&&this.stream&&this.stopMic()}startMic(){var o=this;return(0,oe.Z)(function*(){var t,i,l,c;try{if(o.hasDevices||(yield navigator.mediaDevices.getUserMedia({audio:!0}),o.availableDevices=null===(t=yield navigator.mediaDevices.enumerateDevices())||void 0===t?void 0:t.filter(s=>"audioinput"===s.kind).map(s=>({deviceId:s.deviceId,groupId:s.groupId,kind:s.kind,label:s.label})),o.hasDevices=!!(null===(i=o.availableDevices)||void 0===i?void 0:i.length)),o.hasDevices)try{!!o.stream&&o.stopMic(),o.stream=yield navigator.mediaDevices.getUserMedia({audio:{deviceId:o.selectedDevice}}),o.mediaRecorder=new MediaRecorder(o.stream),o.visualize(),o.mediaRecorder.onstart=()=>o.timestamp=new Date,o.mediaRecorder.ondataavailable=s=>o.chunks.push(s.data),o.mediaRecorder.onstop=s=>o.recordComplete(s),o.selectedDevice=o.mediaRecorder.stream.getAudioTracks().find(s=>"audio"===s.kind).getSettings().deviceId,(null===(l=o.form.value.deviceCurrent)||void 0===l?void 0:l.deviceId)!==o.selectedDevice&&o.form.patchValue({deviceCurrent:null===(c=o.availableDevices)||void 0===c?void 0:c.find(s=>s.deviceId===o.selectedDevice)})}catch(s){o.store.dispatch((0,N._N)({summary:"Mikrofonfehler",detail:"Kein Mikrofonzugriff m\xF6glich."}))}}catch(s){o.blockUI=!0,o.store.dispatch((0,N._N)(T.aW))}})()}recordComplete(o){var t=this;const i=new FileReader;i.onload=(0,oe.Z)(function*(){t.store.dispatch((0,m.ae)({eventTemplate:t.audioEventTemplate,logId:t.logId,date:t.timestamp,data:i.result})),t.close()}),i.readAsDataURL(new Blob(this.chunks,{type:o.currentTarget.mimeType}))}deviceChange(o){var t;this.selectedDevice=(null===(t=null==o?void 0:o.value)||void 0===t?void 0:t.deviceId)||this.selectedDevice,localStorage.setItem("eventMic",this.selectedDevice),this.startMic()}stopMic(){var o,t;null===(o=this.sourceNode)||void 0===o||o.disconnect(),this.mediaRecorder=null,null===(t=this.stream)||void 0===t||t.getAudioTracks().forEach(i=>i.stop()),this.chunks=[],this.stream=null}visualize(){this.audioCtx||(this.audioCtx=new AudioContext),this.canvasCtx||(this.canvasCtx=this.canvas.nativeElement.getContext("2d"));const o=this.audioCtx.createAnalyser();o.fftSize=1024;const t=o.frequencyBinCount,i=new Uint8Array(t);this.sourceNode=this.audioCtx.createMediaStreamSource(this.stream),this.sourceNode.connect(o);const l=()=>{this.canvas.nativeElement.width=this.oscilloscopeContainer.nativeElement.offsetWidth-2,requestAnimationFrame(l),o.getByteTimeDomainData(i),this.canvasCtx.fillStyle="rgb(128, 0, 0)",this.canvasCtx.fillRect(0,0,this.canvas.nativeElement.width,this.canvas.nativeElement.height),this.canvasCtx.lineWidth=2,this.canvasCtx.strokeStyle="rgb(255, 0, 0)",this.canvasCtx.beginPath();const c=1*this.canvas.nativeElement.width/t;let s=0;for(let r=0;r<t;r++){const O=i[r]/128*this.canvas.nativeElement.height/2;0===r?this.canvasCtx.moveTo(s,O):this.canvasCtx.lineTo(s,O),s+=c}this.canvasCtx.lineTo(this.canvas.nativeElement.width,this.canvas.nativeElement.height/2),this.canvasCtx.stroke()};l()}close(){this.stopMic(),super.close()}}return _.\u0275fac=function(o){return new(o||_)(e.Y36(a.yh),e.Y36(p.qu))},_.\u0275cmp=e.Xpm({type:_,selectors:[["el-audio-record-dialog"]],viewQuery:function(o,t){if(1&o&&(e.Gf(t_,5),e.Gf(n_,5)),2&o){let i;e.iGM(i=e.CRH())&&(t.canvas=i.first),e.iGM(i=e.CRH())&&(t.oscilloscopeContainer=i.first)}},inputs:{audioEventTemplate:"audioEventTemplate",logId:"logId"},features:[e.qOj,e.TTD],decls:6,vars:8,consts:function(){let n,o,t,i;return n="Audioereignis",o="Mikrofone werden geladen ...",t=" Bitte halten Sie die Mikrofontaste gedr\xFCckt, um Ihre Sprachnachricht aufzunehmen. ",i=" Auf Mikrofon(e) konnte nicht zugegriffen werden. ",[["header",n,3,"resizable","maximizable","visible","modal","closeOnEscape","visibleChange"],[3,"formGroup"],[1,"grid"],[4,"ngIf"],["class","col-12 text-center p-error",4,"ngIf"],["pTemplate","footer"],["formControlName","deviceCurrent","placeholder",o,1,"col-12",3,"options","onChange"],[1,"col-12","text-center"],["class","el-oscilloscope-container",4,"ngIf"],["header","Audio Event",1,"col-12","text-center"],t,[1,"el-oscilloscope-container"],["oscilloscopeContainer",""],["height","80px"],["oscilloscope",""],[1,"col-12","text-center","p-error"],i,["pButton","","pRipple","",1,"p-button-rounded","p-button-danger","m-1","w-5rem","h-5rem","text-4xl",3,"disabled","icon","pointerdown","pointerup"]]},template:function(o,t){1&o&&(e.TgZ(0,"p-dialog",0),e.NdJ("visibleChange",function(){return t.close()}),e.TgZ(1,"form",1)(2,"div",2),e.YNc(3,s_,7,3,"ng-container",3),e.YNc(4,a_,2,0,"span",4),e.qZA()(),e.YNc(5,r_,1,2,"ng-template",5),e.qZA()),2&o&&(e.Q6J("resizable",!1)("maximizable",!0)("visible",t.visible)("modal",!0)("closeOnEscape",!0),e.xp6(1),e.Q6J("formGroup",t.form),e.xp6(2),e.Q6J("ngIf",!t.blockUI),e.xp6(1),e.Q6J("ngIf",t.blockUI))},directives:[v.V,p._Y,p.JL,p.sg,d.O5,ee.Lt,p.JJ,p.u,Ce.G,u.jx,S.Hq,f.H],styles:["[_nghost-%COMP%]     .p-dialog:not(.p-dialog-maximized) .p-dialog-content{max-width:100vh}[_nghost-%COMP%]     .p-dialog.p-dialog-maximized .el-oscilloscope-container{max-width:calc(100vw - 2rem)}[_nghost-%COMP%]     .p-dropdown{width:100%}[_nghost-%COMP%]     .p-dialog .p-dialog-footer{text-align:center}.el-oscilloscope-container[_ngcontent-%COMP%]{display:flex;max-width:calc(100vw - 3rem);border-radius:2px;padding:1px;background-color:var(--primary-color)}"]}),_})();function p_(_,n){if(1&_&&(e.ynx(0),e.TgZ(1,"span"),e._uU(2),e.qZA(),e.BQk()),2&_){const o=e.oxw(3).ngrxLet;e.xp6(2),e.hij("\xa0(",o.desc,")")}}function g_(_,n){if(1&_&&(e.ynx(0),e.TgZ(1,"span"),e._uU(2),e.qZA(),e.BQk()),2&_){const o=e.oxw(2).ngIf;e.xp6(2),e.hij("\xa0(",o.desc,")")}}function d_(_,n){if(1&_&&(e.TgZ(0,"span",15),e._uU(1),e.qZA()),2&_){const o=n.ngIf;e.xp6(1),e.hij("",o,"d\xa0")}}function E_(_,n){if(1&_&&(e.TgZ(0,"div",13),e.YNc(1,d_,2,1,"span",14),e.ALo(2,"async"),e.TgZ(3,"span",15),e._uU(4),e.ALo(5,"date"),e.ALo(6,"async"),e.qZA()()),2&_){const o=e.oxw(4);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,2,o.relDays$)),e.xp6(3),e.Oqu(e.Dn7(5,4,e.lcZ(6,8,o.relTime$),"HH:mm:ss.SSS","UTC+0"))}}function O_(_,n){if(1&_&&(e.TgZ(0,"div",7)(1,"div",8)(2,"span"),e._uU(3),e.qZA(),e.YNc(4,p_,3,1,"ng-container",1),e.qZA(),e.TgZ(5,"div",9)(6,"span",10),e._uU(7),e.ALo(8,"date"),e.ALo(9,"async"),e.qZA()(),e.TgZ(10,"div",11)(11,"span"),e._uU(12),e.qZA(),e.YNc(13,g_,3,1,"ng-container",1),e.qZA(),e.YNc(14,E_,7,10,"div",12),e.ALo(15,"async"),e.ALo(16,"logEventTemplates"),e.qZA()),2&_){const o=e.oxw().ngIf,t=e.oxw().ngrxLet,i=e.oxw();e.xp6(3),e.Oqu(t.title),e.xp6(1),e.Q6J("ngIf",!(null==t.desc||!t.desc.length)),e.xp6(3),e.Oqu(e.xi3(8,6,e.lcZ(9,9,i.absTime$),"HH:mm:ss")),e.xp6(5),e.Oqu(o.title),e.xp6(1),e.Q6J("ngIf",!(null==o.desc||!o.desc.length)),e.xp6(1),e.Q6J("ngIf",e.lcZ(15,11,e.lcZ(16,13,o)).containStart)}}function u_(_,n){if(1&_){const o=e.EpF();e.ynx(0),e.TgZ(1,"button",24),e.NdJ("click",function(){const l=e.CHM(o).$implicit,c=e.oxw(3).ngrxLet;return e.oxw().raiseEvent(l,c.id)}),e.ALo(2,"colorClass"),e.ALo(3,"eventButtonDisabled"),e.qZA(),e.BQk()}if(2&_){const o=n.$implicit,t=e.oxw().ngrxLet,i=e.oxw(3);e.xp6(1),e.Gre("",e.lcZ(2,6,o.color)," p-button-rounded m-2 el-record-event-button"),e.Q6J("icon",o.icon.value!==i.PrimeIcons.CODE&&o.icon.value)("label",o.name)("disabled",e.xi3(3,8,o,t))}}function L_(_,n){1&_&&(e.TgZ(0,"span"),e.SDv(1,25),e.qZA())}function m_(_,n){if(1&_&&(e.TgZ(0,"div",16)(1,"p-panel",17),e.YNc(2,u_,4,11,"ng-container",18),e.YNc(3,L_,2,0,"span",1),e.qZA(),e.TgZ(4,"p-accordion",19)(5,"p-accordionTab",20),e._UZ(6,"el-records",21),e.qZA()(),e.TgZ(7,"p-panel",22),e._UZ(8,"el-records",23),e.qZA()()),2&_){const o=n.ngrxLet,t=e.oxw().ngIf;e.xp6(2),e.Q6J("ngForOf",t.eventTemplates),e.xp6(1),e.Q6J("ngIf",!(null!=t.eventTemplates&&t.eventTemplates.length)),e.xp6(2),e.Q6J("selected",!1),e.xp6(1),e.Q6J("records",o)("template",t)("showDataColumn",!1)("showRevokeButton",!0),e.xp6(2),e.Q6J("records",o)("template",t)("showDataColumn",!1)("showRevokeButton",!0)}}function C_(_,n){if(1&_&&(e.ynx(0),e.TgZ(1,"p-panel"),e.YNc(2,O_,17,15,"ng-template",5),e.YNc(3,m_,9,11,"div",6),e.qZA(),e.BQk()),2&_){const o=e.oxw(2);e.xp6(3),e.Q6J("ngrxLet",o.records$)}}function R_(_,n){if(1&_){const o=e.EpF();e.ynx(0),e.YNc(1,C_,4,1,"ng-container",1),e.ALo(2,"async"),e.TgZ(3,"el-text-record-dialog",2),e.NdJ("visibleChange",function(i){return e.CHM(o),e.oxw().displayTextRecordDialog=i}),e.qZA(),e.TgZ(4,"el-photo-record-dialog",3),e.NdJ("visibleChange",function(i){return e.CHM(o),e.oxw().displayPhotoRecordDialog=i}),e.qZA(),e.TgZ(5,"el-audio-record-dialog",4),e.NdJ("visibleChange",function(i){return e.CHM(o),e.oxw().displayAudioRecordDialog=i}),e.qZA(),e.BQk()}if(2&_){const o=n.ngrxLet,t=e.oxw();e.xp6(1),e.Q6J("ngIf",e.lcZ(2,11,t.template$)),e.xp6(2),e.Q6J("visible",t.displayTextRecordDialog)("textEventTemplate",t.eventTemplate)("logId",o.id)("timestamp",t.timestamp),e.xp6(1),e.Q6J("visible",t.displayPhotoRecordDialog)("photoEventTemplate",t.eventTemplate)("logId",o.id),e.xp6(1),e.Q6J("visible",t.displayAudioRecordDialog)("audioEventTemplate",t.eventTemplate)("logId",o.id)}}const T_=[{path:"",component:Xo},{path:":logId",children:[{path:"",component:uo},{path:"record",component:(()=>{class _{constructor(o,t,i){this.store=o,this.audioService=t,this.currentEventRelTime=i,this.PrimeIcons=u.dv,this.refreshRate=1e3/60,this.displayTextRecordDialog=!1,this.displayPhotoRecordDialog=!1,this.displayAudioRecordDialog=!1,this.logData=(0,te.a)([this.store.pipe((0,a.Ys)(y),(0,R.h)(l=>!!l)),this.store.pipe((0,a.Ys)(Q.zU),(0,R.h)(l=>!!l)),this.store.pipe((0,a.Ys)(K.Hm),(0,R.h)(l=>!!l))]).pipe((0,R.h)(l=>{var c,s;return(null===(c=null==l?void 0:l[0])||void 0===c?void 0:c.id)===(null==l?void 0:l[2])&&!!(null===(s=null==l?void 0:l[1])||void 0===s?void 0:s.length)})),this.log$=this.logData.pipe((0,L.U)(l=>l[0])),this.template$=this.logData.pipe((0,L.U)(l=>l[1].find(c=>c.id===l[0].templateId))),this.records$=this.log$.pipe((0,D.w)(l=>this.store.select((0,z.Tq)(l.id)))),this.absTime$=Le(this.refreshRate).pipe((0,L.U)(()=>new Date)),this.relTime$=this.records$.pipe((0,D.w)(l=>!l.find(c=>c.eventType===I.t.START)||l.find(c=>c.eventType===I.t.END||!!l.length&&l[l.length-1].eventType===I.t.PAUSE)?(0,C.of)(this.currentEventRelTime.transform(l)):Le(this.refreshRate).pipe((0,L.U)(()=>this.currentEventRelTime.transform(l))))),this.relDays$=this.relTime$.pipe((0,R.h)(l=>!!l),(0,D.w)(l=>(0,C.of)(Math.trunc(+l/864e5))))}ngOnInit(){this.store.dispatch((0,m.dY)({})),this.store.dispatch(q({})),this.audioService.unlock()}raiseEvent(o,t){switch(this.eventTemplate=o,o.eventType){case I.t.TEXT:this.timestamp=new Date,this.displayTextRecordDialog=!0;break;case I.t.PHOTO:this.displayPhotoRecordDialog=!0;break;case I.t.AUDIO:this.displayAudioRecordDialog=!0;break;default:this.store.dispatch((0,m.ae)({eventTemplate:o,logId:t,date:new Date}))}}}return _.\u0275fac=function(o){return new(o||_)(e.Y36(a.yh),e.Y36(Ho.Q),e.Y36(B.C_))},_.\u0275cmp=e.Xpm({type:_,selectors:[["el-record"]],decls:1,vars:1,consts:function(){let n,o,t,i;return n="Ereignis aufzeichnen",o="Aufgezeichnete Ereignisse",t="Aufgezeichnete Ereignisse",i="Keine konfigurierten Ereignisse gefunden. Bitte f\xFCgen Sie zuerst einige Ereignisse Ihrer Vorlage hinzu.",[[4,"ngrxLet"],[4,"ngIf"],[3,"visible","textEventTemplate","logId","timestamp","visibleChange"],[3,"visible","photoEventTemplate","logId","visibleChange"],[3,"visible","audioEventTemplate","logId","visibleChange"],["pTemplate","header"],["class","grid",4,"ngrxLet"],[1,"grid","m-0","w-full"],[1,"col-8","md:col-5","font-light","text-500","p-0"],[1,"col-4","md:col-2","p-0","text-right","md:text-center","font-light"],[1,"el-font-monospace"],[1,"hidden","md:block","md:col-5","font-light","text-500","p-0","text-right"],["class","col-12 p-0 text-center pt-3",4,"ngIf"],[1,"col-12","p-0","text-center","pt-3"],["class","font-light text-4xl el-font-monospace",4,"ngIf"],[1,"font-light","text-4xl","el-font-monospace"],[1,"grid"],["header",n,1,"col-12","lg:col-5","text-center","py-2"],[4,"ngFor","ngForOf"],[1,"col-12","lg:hidden"],["header",o,"styleClass","p-0",3,"selected"],["breakpoint","550px","styleClass","p-datatable-striped p-datatable-sm",3,"records","template","showDataColumn","showRevokeButton"],["header",t,"styleClass","p-0",1,"hidden","col-7","lg:block"],["styleClass","p-datatable-striped p-datatable-sm",3,"records","template","showDataColumn","showRevokeButton"],["pButton","","pRipple","",3,"icon","label","disabled","click"],i]},template:function(o,t){1&o&&e.YNc(0,R_,6,13,"ng-container",0),2&o&&e.Q6J("ngrxLet",t.log$)},directives:[P.eJ,d.O5,W.s,u.jx,d.sg,S.Hq,f.H,me.UQ,me.US,de,jo,__,c_],pipes:[d.Ov,d.uU,U.fS,pe.z,B.b3],styles:["[_nghost-%COMP%]     .el-record-event-button.p-button{border-color:transparent}[_nghost-%COMP%]     .el-record-event-button.p-button span{word-wrap:break-word;overflow-wrap:anywhere;word-wrap:anywhere}[_nghost-%COMP%]     .el-record-event-button.p-button .p-button-icon-left{font-size:2rem;margin-right:0}[_nghost-%COMP%]     .el-record-event-button.p-button .p-button-label{font-weight:unset}[_nghost-%COMP%]     .p-0 .p-panel-content, [_nghost-%COMP%]     .p-accordion-content{padding:0}[_nghost-%COMP%]     .py-2 .p-panel-content, [_nghost-%COMP%]     .p-accordion-content{padding:.5rem 0}.el-record-event-button[_ngcontent-%COMP%]{display:inline-grid;width:8rem;min-height:6.25rem}"]}),_})()}]}];let S_=(()=>{class _{}return _.\u0275fac=function(o){return new(o||_)},_.\u0275mod=e.oAB({type:_}),_.\u0275inj=e.cJS({imports:[[Z.Bz.forChild(T_)],Z.Bz]}),_})();var E=g(6991),x=g(262),h=g(4351),f_=g(6107);let D_=(()=>{class _{constructor(o,t,i,l,c){this.store=o,this.logService=t,this.recordService=i,this.actions$=l,this.router=c,this.loadLog$=(0,E.GW)(()=>this.actions$.pipe((0,E.l4)(q),(0,D.w)(s=>this.store.pipe((0,a.Ys)(K.Hm),(0,Oe.q)(1),(0,R.h)(r=>!(!r&&!s.id)),(0,D.w)(r=>this.logService.loadLog(r||s.id).pipe((0,L.U)(O=>ne({log:O})),(0,x.K)(O=>(0,C.of)(H({error:O}))))))))),this.createLog$=(0,E.GW)(()=>this.actions$.pipe((0,E.l4)(k),(0,h.b)(s=>this.logService.createLog(s.templateId,s.title,s.desc).pipe((0,L.U)(r=>M.zS({log:r})),(0,x.K)(r=>(0,C.of)(j({error:r}))))))),this.updateLog$=(0,E.GW)(()=>this.actions$.pipe((0,E.l4)(F),(0,h.b)(s=>this.logService.updateLog(s.log).pipe((0,L.U)(r=>M.S4({log:r})),(0,x.K)(r=>(0,C.of)($({error:r}))))))),this.deleteLog$=(0,E.GW)(()=>this.actions$.pipe((0,E.l4)(V),(0,h.b)(s=>this.recordService.deleteRecords(s.log.id).pipe((0,h.b)(()=>this.logService.deleteLog(s.log).pipe((0,L.U)(r=>M.RC({log:r})),(0,x.K)(r=>(0,C.of)(X({error:r}))))),(0,x.K)(r=>(0,C.of)(X({error:r}))))))),this.createRecordSuccess$=(0,E.GW)(()=>this.actions$.pipe((0,E.l4)(m.iz),(0,h.b)(s=>this.logService.loadLog(s.record.logId).pipe((0,h.b)(r=>this.logService.updateLog(Object.assign(Object.assign({},r),{recordsCount:r.recordsCount+1})).pipe((0,x.K)(O=>(0,C.of)($({error:O})))))))),{dispatch:!1}),this.revokeRecordSuccess$=(0,E.GW)(()=>this.actions$.pipe((0,E.l4)(m.S5),(0,h.b)(s=>this.logService.loadLog(s.logId).pipe((0,h.b)(r=>this.logService.updateLog(Object.assign(Object.assign({},r),{recordsCount:r.recordsCount-1})).pipe((0,x.K)(O=>(0,C.of)($({error:O})))))))),{dispatch:!1}),this.deleteRecordsSuccess$=(0,E.GW)(()=>this.actions$.pipe((0,E.l4)(m.Qu),(0,h.b)(s=>this.logService.loadLog(s.logId).pipe((0,h.b)(r=>this.logService.updateLog(Object.assign(Object.assign({},r),{recordsCount:0})).pipe((0,x.K)(O=>(0,C.of)($({error:O})))))))),{dispatch:!1}),this.loadLogFailure$=(0,E.GW)(()=>this.actions$.pipe((0,E.l4)(H),(0,Ee.b)(()=>this.router.navigate(["logs"])),(0,D.w)(s=>(0,C.of)((0,N._N)({summary:"Fehler beim Laden des Protokolls!",detail:s.error}))))),this.createLogFailure$=(0,E.GW)(()=>this.actions$.pipe((0,E.l4)(j),(0,D.w)(s=>(0,C.of)((0,N._N)({summary:"Fehler beim Erstellen des Protokolls!",detail:s.error}))))),this.updateLogFailure$=(0,E.GW)(()=>this.actions$.pipe((0,E.l4)($),(0,D.w)(s=>(0,C.of)((0,N._N)({summary:"Fehler beim Aktualisieren des Protokolls!",detail:s.error}))))),this.deleteLogFailure$=(0,E.GW)(()=>this.actions$.pipe((0,E.l4)(X),(0,D.w)(s=>(0,C.of)((0,N._N)({summary:"Fehler beim L\xF6schen des Protokolls!",detail:s.error})))))}}return _.\u0275fac=function(o){return new(o||_)(e.LFG(a.yh),e.LFG(f_.$),e.LFG(ce.B),e.LFG(E.eX),e.LFG(Z.F0))},_.\u0275prov=e.Yz7({token:_,factory:_.\u0275fac}),_})();var h_=g(3630);let G_=(()=>{class _{}return _.\u0275fac=function(o){return new(o||_)},_.\u0275mod=e.oAB({type:_}),_.\u0275inj=e.cJS({imports:[[d.ez,S_,h_.W,a.Aw.forFeature("log",Te),E.sQ.forFeature([D_])]]}),_})()}}]);